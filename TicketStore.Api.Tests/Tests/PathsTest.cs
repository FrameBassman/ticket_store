using Xunit;
using System.IO;
using System.Text.RegularExpressions;

namespace TicketStore.Api.Tests.Tests
{
    public class PathsTest
    {
        [Fact]
        public void Combination()
        {
            var execPath = "file:/Users/dmitrijromasov/projects/ticket_store/TicketStore.Web/bin/Debug/netcoreapp2.2";
            var result = Path.Combine(execPath, "DbConfigs");
            
            Assert.Equal("file:/Users/dmitrijromasov/projects/ticket_store/TicketStore.Web/bin/Debug/netcoreapp2.2/DbConfigs", result);

            var dirname = "./DbConfigs";
            var info = new DirectoryInfo(dirname);
            Assert.Equal("/Users/dmitrijromasov/projects/ticket_store/TicketStore.Api.Tests/bin/Debug/netcoreapp2.2/DbConfigs", info.FullName);
        }

        [Fact]
        public void IsExist()
        {
            var execPath = "file:/Users/dmitrijromasov/projects/ticket_store/TicketStore.Web/bin/Debug/netcoreapp2.2";

            var trimmedExecPath = execPath.TrimStart("file:".ToCharArray());
            var result = Path.Combine(trimmedExecPath, "DbConfigs");
            var info = new DirectoryInfo(result);
            
            Assert.True(info.Exists);
        }
    }
}